{"ast":null,"code":"var _jsxFileName = \"/Users/maya2/Desktop/Dev/Sites/Armazem-fit-store/site/afs-next-app/components/carousel/Carousel.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport bannerType from \"../../types/bannerType\";\nimport Banner from \"./Banner\";\nimport Dots from \"./Dots\";\nlet timeout;\nconst INTERVAL_MS = 9000;\n\nconst procuraProximoItemId = (itemsIds, itemId) => {\n  const indexAtual = itemsIds.indexOf(itemId); // retornando o proximo se existir\n\n  return itemsIds[indexAtual + 1] || itemsIds[0];\n};\n\nconst Carousel = ({\n  banners,\n  autoPlay,\n  showDots\n}) => {\n  const [{\n    _id: _idInicial\n  }] = banners;\n  const {\n    0: bannerAtualId,\n    1: setBannerAtualId\n  } = useState(_idInicial);\n\n  function changeBanner(bannerId) {\n    setBannerAtualId(bannerId);\n  }\n\n  const bannerAtual = banners.find(({\n    _id\n  }) => _id === bannerAtualId);\n\n  const trocaBanner = () => {\n    const proximoItemId = procuraProximoItemId(banners.map(({\n      _id\n    }) => _id), bannerAtualId);\n    setBannerAtualId(proximoItemId);\n  };\n\n  useEffect(() => {\n    // usar setInterval aqui pode criar um cache nas variaveis\n    if (!autoPlay) return null;\n    timeout = setTimeout(() => trocaBanner(), INTERVAL_MS);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [bannerAtualId]);\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(Banner, {\n    banner: bannerAtual,\n    mostrarFolhas: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), showDots ? __jsx(Dots, {\n    banners: banners,\n    bannerAtualId: bannerAtualId,\n    onClick: bannerId => changeBanner(bannerId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }) : __jsx(React.Fragment, null));\n};\n\nCarousel.propTypes = {\n  banners: PropTypes.arrayOf(bannerType).isRequired,\n  autoPlay: PropTypes.bool,\n  showDots: PropTypes.bool\n};\nCarousel.defaultProps = {\n  autoPlay: true,\n  showDots: false\n};\nexport default Carousel;","map":{"version":3,"sources":["/Users/maya2/Desktop/Dev/Sites/Armazem-fit-store/site/afs-next-app/components/carousel/Carousel.jsx"],"names":["React","useState","useEffect","PropTypes","bannerType","Banner","Dots","timeout","INTERVAL_MS","procuraProximoItemId","itemsIds","itemId","indexAtual","indexOf","Carousel","banners","autoPlay","showDots","_id","_idInicial","bannerAtualId","setBannerAtualId","changeBanner","bannerId","bannerAtual","find","trocaBanner","proximoItemId","map","setTimeout","clearTimeout","propTypes","arrayOf","isRequired","bool","defaultProps"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,IAAIC,OAAJ;AACA,MAAMC,WAAW,GAAG,IAApB;;AAEA,MAAMC,oBAAoB,GAAG,CAACC,QAAD,EAAWC,MAAX,KAAsB;AACjD,QAAMC,UAAU,GAAGF,QAAQ,CAACG,OAAT,CAAiBF,MAAjB,CAAnB,CADiD,CAEjD;;AACA,SAAOD,QAAQ,CAACE,UAAU,GAAG,CAAd,CAAR,IAA4BF,QAAQ,CAAC,CAAD,CAA3C;AACD,CAJD;;AAMA,MAAMI,QAAQ,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,QAAX;AAAqBC,EAAAA;AAArB,CAAD,KAAqC;AACpD,QAAM,CAAC;AAAEC,IAAAA,GAAG,EAAEC;AAAP,GAAD,IAAwBJ,OAA9B;AACA,QAAM;AAAA,OAACK,aAAD;AAAA,OAAgBC;AAAhB,MAAoCpB,QAAQ,CAACkB,UAAD,CAAlD;;AAEA,WAASG,YAAT,CAAsBC,QAAtB,EAAgC;AAC9BF,IAAAA,gBAAgB,CAACE,QAAD,CAAhB;AACD;;AAED,QAAMC,WAAW,GAAGT,OAAO,CAACU,IAAR,CAAa,CAAC;AAAEP,IAAAA;AAAF,GAAD,KAAaA,GAAG,KAAKE,aAAlC,CAApB;;AACA,QAAMM,WAAW,GAAG,MAAM;AACxB,UAAMC,aAAa,GAAGlB,oBAAoB,CACxCM,OAAO,CAACa,GAAR,CAAY,CAAC;AAAEV,MAAAA;AAAF,KAAD,KAAaA,GAAzB,CADwC,EAExCE,aAFwC,CAA1C;AAIAC,IAAAA,gBAAgB,CAACM,aAAD,CAAhB;AACD,GAND;;AAQAzB,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAI,CAACc,QAAL,EAAe,OAAO,IAAP;AACfT,IAAAA,OAAO,GAAGsB,UAAU,CAAC,MAAMH,WAAW,EAAlB,EAAsBlB,WAAtB,CAApB;AACA,WAAO,MAAM;AACXsB,MAAAA,YAAY,CAACvB,OAAD,CAAZ;AACD,KAFD;AAGD,GAPQ,EAON,CAACa,aAAD,CAPM,CAAT;AASA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAEI,WAAhB;AAA6B,IAAA,aAAa,MAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGP,QAAQ,GACP,MAAC,IAAD;AACE,IAAA,OAAO,EAAEF,OADX;AAEE,IAAA,aAAa,EAAEK,aAFjB;AAGE,IAAA,OAAO,EAAEG,QAAQ,IAAID,YAAY,CAACC,QAAD,CAHnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,GAOP,2BATJ,CADF;AAcD,CAxCD;;AAyCAT,QAAQ,CAACiB,SAAT,GAAqB;AACnBhB,EAAAA,OAAO,EAAEZ,SAAS,CAAC6B,OAAV,CAAkB5B,UAAlB,EAA8B6B,UADpB;AAEnBjB,EAAAA,QAAQ,EAAEb,SAAS,CAAC+B,IAFD;AAGnBjB,EAAAA,QAAQ,EAAEd,SAAS,CAAC+B;AAHD,CAArB;AAMApB,QAAQ,CAACqB,YAAT,GAAwB;AACtBnB,EAAAA,QAAQ,EAAE,IADY;AAEtBC,EAAAA,QAAQ,EAAE;AAFY,CAAxB;AAKA,eAAeH,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport bannerType from \"../../types/bannerType\";\nimport Banner from \"./Banner\";\nimport Dots from \"./Dots\";\n\nlet timeout;\nconst INTERVAL_MS = 9000;\n\nconst procuraProximoItemId = (itemsIds, itemId) => {\n  const indexAtual = itemsIds.indexOf(itemId);\n  // retornando o proximo se existir\n  return itemsIds[indexAtual + 1] || itemsIds[0];\n};\n\nconst Carousel = ({ banners, autoPlay, showDots }) => {\n  const [{ _id: _idInicial }] = banners;\n  const [bannerAtualId, setBannerAtualId] = useState(_idInicial);\n\n  function changeBanner(bannerId) {\n    setBannerAtualId(bannerId);\n  }\n\n  const bannerAtual = banners.find(({ _id }) => _id === bannerAtualId);\n  const trocaBanner = () => {\n    const proximoItemId = procuraProximoItemId(\n      banners.map(({ _id }) => _id),\n      bannerAtualId\n    );\n    setBannerAtualId(proximoItemId);\n  };\n\n  useEffect(() => {\n    // usar setInterval aqui pode criar um cache nas variaveis\n    if (!autoPlay) return null;\n    timeout = setTimeout(() => trocaBanner(), INTERVAL_MS);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [bannerAtualId]);\n\n  return (\n    <div>\n      <Banner banner={bannerAtual} mostrarFolhas />\n      {showDots ? (\n        <Dots\n          banners={banners}\n          bannerAtualId={bannerAtualId}\n          onClick={bannerId => changeBanner(bannerId)}\n        />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n};\nCarousel.propTypes = {\n  banners: PropTypes.arrayOf(bannerType).isRequired,\n  autoPlay: PropTypes.bool,\n  showDots: PropTypes.bool\n};\n\nCarousel.defaultProps = {\n  autoPlay: true,\n  showDots: false\n};\n\nexport default Carousel;\n"]},"metadata":{},"sourceType":"module"}